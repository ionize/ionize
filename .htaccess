RewriteEngine On

# RewriteBase
RewriteBase /misc/ionize/

# DO NOT MODIFY ANY FOLLOWING LINE

# 
# Ionize Rules
#
# If Ionize resized outside the public folder, keep modules asset availability
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteRule ^(modules)/([a-zA-Z0-9-]+)/(assets)/(.*)$ ../$1/$2/$3/$4

RewriteCond %{REQUEST_URI} !^/(robots\.txt|favicon\.ico|sitemap\.xml)$

RewriteCond $1 !^(index\.php|themes|install|files|robots\.txt)

RewriteCond %{REQUEST_URI} ^system.*
RewriteRule ^(.*)$ /index.php?/$1 [L]

RewriteCond %{REQUEST_URI} ^application.*
RewriteRule ^(.*)$ /index.php?/$1 [L]

# Keep these lines even in maintenance mode, to have an access to the website
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond $1 !^(index\.php|robots\.txt)

# OVH small plan :
# Replace the following line by :
# RewriteRule ^(.+)$ index.php?/$1
RewriteRule ^(.*)$ index.php/$1

RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(application|modules|plugins|system|themes) index.php/$1 [L]
