<?xml version="1.0" ?>
<sql>

	<name>Ionize Database Creation script</name>
	
	<version>1.1.0</version>

	<license>Open Source MIT license</license>

	<tables>

        <query>
            CREATE TABLE IF NOT EXISTS api_key (
            id int(11) NOT NULL AUTO_INCREMENT,
            `key` varchar(40) NOT NULL,
            `level` int(2) NOT NULL,
            ignore_limits tinyint(1) NOT NULL DEFAULT '0',
            is_private tinyint(1) NOT NULL DEFAULT '0',
            ip_addresses text,
            date_created datetime,
            PRIMARY KEY (id)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        </query>

        <query>
            CREATE TABLE IF NOT EXISTS api_log (
            id int(11) NOT NULL AUTO_INCREMENT,
            uri varchar(255) NOT NULL,
            method varchar(6) NOT NULL,
            params text,
            api_key varchar(40) NOT NULL,
            date_log datetime DEFAULT NULL,
            ip_address varchar(45) NOT NULL,
            authorized tinyint(1) NOT NULL,
            PRIMARY KEY (id)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        </query>

        <query>
			CREATE TABLE IF NOT EXISTS article (
			  id_article int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  id_content_type int(11) UNSIGNED DEFAULT NULL,
			  name varchar(255) DEFAULT NULL,
			  author varchar(55) DEFAULT NULL,
			  updater varchar(55) DEFAULT NULL,
			  created datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  publish_on datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  publish_off datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  updated datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  logical_date datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  indexed tinyint(1) UNSIGNED NOT NULL DEFAULT 0,
			  id_category int(11) UNSIGNED DEFAULT NULL,
			  comment_allow char(1) DEFAULT '0',
			  comment_autovalid char(1) DEFAULT '0',
			  comment_expire datetime,
			  flag smallint(1) DEFAULT 0,
			  has_url tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  priority smallint(1) UNSIGNED NOT NULL DEFAULT 5,
			  PRIMARY KEY  (id_article)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_category (
				id_article INT(11) UNSIGNED NOT NULL ,
				id_category INT(11) UNSIGNED NOT NULL
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_lang (
			  id_article int(11) UNSIGNED NOT NULL DEFAULT 0,
			  lang varchar(8) NOT NULL DEFAULT '',
			  url VARCHAR( 100 ) NOT NULL DEFAULT '',
			  title varchar(255) DEFAULT NULL,
			  subtitle text DEFAULT NULL,
			  meta_title varchar(255) DEFAULT NULL,
			  content longtext,
			  meta_keywords varchar(255) DEFAULT NULL,
			  meta_description varchar(255) DEFAULT NULL,
			  online tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  PRIMARY KEY  (id_article,lang)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_media (
			  id_article int(11) UNSIGNED NOT NULL DEFAULT 0,
			  id_media int(11) UNSIGNED NOT NULL DEFAULT 0,
              online tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  ordering int(11) UNSIGNED DEFAULT 9999,
			  url varchar(255) DEFAULT NULL,
			  lang_display varchar(8) DEFAULT NULL,
			  PRIMARY KEY  (id_article,id_media)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_comment (
				id_article_comment int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				id_article int(11) UNSIGNED NOT NULL DEFAULT 0,
				author varchar(255) DEFAULT NULL,
				email varchar(255) DEFAULT NULL,
				site varchar(255) DEFAULT NULL,
				content text,
				ip varchar(40) DEFAULT NULL,
				status tinyint UNSIGNED DEFAULT NULL,
				created datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
				updated datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
				admin tinyint UNSIGNED NOT NULL	DEFAULT 0 COMMENT 'If comment comes from admin, set to 1',
				PRIMARY KEY (id_article_comment)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_tag (
				id_article int(11) UNSIGNED NOT NULL,
				id_tag int(11) UNSIGNED NOT NULL,
				PRIMARY KEY  (id_article, id_tag)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS article_type (
			  id_type int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  type varchar(50) NOT NULL,
			  ordering int(11) DEFAULT 0,
			  description text DEFAULT NULL,
			  type_flag TINYINT( 1 ) NOT NULL DEFAULT 0,
			  PRIMARY KEY  (id_type)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS captcha (
			  id_captcha int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  question varchar(255) NOT NULL DEFAULT '',
			  answer varchar(255) NOT NULL DEFAULT '',
			  lang varchar(8) NOT NULL DEFAULT '',
			  hash varchar(32) NOT NULL DEFAULT '',
			  PRIMARY KEY  (id_captcha)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS category (
			  id_category int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  name varchar(50) NOT NULL,
			  ordering int(11) DEFAULT 0,
			  PRIMARY KEY  (id_category)
			)  ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS category_lang (
			  id_category int(11) UNSIGNED NOT NULL DEFAULT '0',
			  lang varchar(8) NOT NULL,
			  title varchar(255) NOT NULL DEFAULT '',
			  subtitle VARCHAR( 255 ) NOT NULL DEFAULT '',
			  description text NOT NULL,
  			  PRIMARY KEY  (id_category, lang)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE content_type (
			id_content_type int(11) unsigned NOT NULL AUTO_INCREMENT,
			name varchar(50) DEFAULT NULL COMMENT 'Logical name',
			type varchar(50) DEFAULT NULL COMMENT '''page'', ''article''',
			view varchar(255) DEFAULT NULL COMMENT 'View',
			view_single varchar(255) DEFAULT NULL COMMENT 'Page view for one single article',
			PRIMARY KEY (id_content_type)
			) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</query>

		<query>
			CREATE TABLE content_type_group (
			id_content_type_group int(11) unsigned NOT NULL AUTO_INCREMENT,
			id_content_type int(11) unsigned NOT NULL,
			name varchar(50) DEFAULT NULL,
			ordering int(11) DEFAULT NULL,
			PRIMARY KEY (id_content_type_group)
			) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</query>

		<query>
			CREATE TABLE content_type_group_items (
			id_content_type_group int(11) unsigned NOT NULL,
			item varchar(50) NOT NULL,
			id_item int(11) unsigned NOT NULL,
			ordering int(11) DEFAULT NULL,
			PRIMARY KEY (id_content_type_group,item,id_item)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS element (
			  id_element int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  id_element_definition int(11) UNSIGNED NOT NULL,
			  parent varchar(50) NOT NULL,
			  id_parent int(11) NOT NULL,
			  ordering int(11) NOT NULL DEFAULT '0',
			  PRIMARY KEY  (id_element),
			  KEY idx_element_id_element_definition (id_element_definition),
			  KEY idx_element_id_parent (id_parent),
			  KEY idx_element_parent (parent)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>
	
		<query>
			CREATE TABLE IF NOT EXISTS element_definition (
			  id_element_definition int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  name varchar(50) NOT NULL,
			  description text,
			  ordering int(11) NOT NULL DEFAULT 0,
			  PRIMARY KEY  (id_element_definition)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS element_definition_lang (
			  id_element_definition int(11) UNSIGNED NOT NULL,
			  lang varchar(8) NOT NULL,
			  title varchar(255) NOT NULL DEFAULT '',
			  PRIMARY KEY  (id_element_definition, lang)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;
		</query>

        <query>
            CREATE TABLE IF NOT EXISTS event_log (
            id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
            status varchar(50) DEFAULT NULL,
            message text,
            id_user int(11) DEFAULT NULL,
            email varchar(255) DEFAULT NULL,
            date datetime DEFAULT NULL,
            ip_address varchar(45) DEFAULT NULL,
            seen tinyint(1) NOT NULL DEFAULT '0',
            PRIMARY KEY (id)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        </query>

		<query>
			CREATE TABLE IF NOT EXISTS extend_field (
				id_extend_field INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				name varchar(255) NOT NULL,
				type int(3) UNSIGNED NOT NULL,
				description varchar(255) DEFAULT '',
				parent varchar(50) NOT NULL,
                id_parent int(11) UNSIGNED NULL,
			  	ordering int(11) DEFAULT 0,
				translated char(1) DEFAULT '0',
				`value` text NULL,
				default_value varchar(255) NULL,
				global tinyint(1) UNSIGNED NOT NULL DEFAULT 0,
                main smallint(1) UNSIGNED NOT NULL DEFAULT 0,
				PRIMARY KEY  (id_extend_field),
				KEY idx_extend_field_parent (parent),
                KEY idx_extend_field_id_parent (id_parent)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8   AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS extend_field_lang (
			  id_extend_field int(11) UNSIGNED NOT NULL,
			  lang varchar(8) NOT NULL,
			  label varchar(255),
			  PRIMARY KEY  (id_extend_field, lang)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;
		</query>

        <query>
            CREATE TABLE extend_field_type (
                id_extend_field_type int(11) unsigned NOT NULL AUTO_INCREMENT,
                type_name varchar(50) NOT NULL DEFAULT '',
                default_values smallint(1) NOT NULL DEFAULT '0',
                `values` smallint(1) NOT NULL DEFAULT '0',
                translated smallint(1) NOT NULL DEFAULT '0',
                active smallint(6) NOT NULL DEFAULT '1',
                display smallint(6) NOT NULL DEFAULT '1',
                validate varchar(50) DEFAULT NULL,
                html_element varchar(20) NOT NULL DEFAULT 'input',
                html_element_type varchar(20) NOT NULL DEFAULT 'text',
                html_element_class varchar(100) DEFAULT NULL,
                html_element_pattern varchar(200) DEFAULT NULL,
                PRIMARY KEY (id_extend_field_type)
            ) ENGINE=InnoDB AUTO_INCREMENT=123 DEFAULT CHARSET=utf8;
        </query>

		<query>
			CREATE TABLE IF NOT EXISTS extend_fields (
				id_extend_fields INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				id_extend_field INT(11) UNSIGNED NOT NULL,
				parent varchar(50) NOT NULL DEFAULT '',
				id_parent int(11) UNSIGNED NOT NULL,
				lang varchar(8) NOT NULL DEFAULT '',
				content text,
				ordering INT( 11 ) UNSIGNED NOT NULL DEFAULT '0',
				PRIMARY KEY  (id_extend_fields),
				KEY idx_extend_fields_id_parent (id_parent),
				KEY idx_extend_fields_lang (lang),
			    KEY idx_extend_fields_id_extend_field (id_extend_field) 
			) ENGINE=InnoDB DEFAULT CHARSET=utf8   AUTO_INCREMENT=1;
		</query>
		
		<query>
			CREATE TABLE IF NOT EXISTS ion_sessions (
			  session_id varchar(40) NOT NULL DEFAULT '0',
			  ip_address varchar(16) NOT NULL DEFAULT '0',
			  user_agent varchar(50) NULL,
			  last_activity int(10) UNSIGNED NOT NULL DEFAULT '0',
			  user_data text NULL,
			  PRIMARY KEY  (session_id)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

        <query>
            CREATE TABLE IF NOT EXISTS item (
                id_item int(11) unsigned NOT NULL AUTO_INCREMENT,
                id_item_definition int(10) unsigned NOT NULL,
                name varchar(50) DEFAULT NULL,
                description text,
                ordering int(10) unsigned NOT NULL DEFAULT '0',
                PRIMARY KEY (id_item)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT='Item instances';
        </query>
        
        <query>
            CREATE TABLE IF NOT EXISTS item_definition (
                id_item_definition int(11) unsigned NOT NULL AUTO_INCREMENT,
                name varchar(50) DEFAULT NULL,
                description text,
                PRIMARY KEY (id_item_definition)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT='Items definition table';
        </query>
        
        <query>
            CREATE TABLE IF NOT EXISTS item_definition_lang (
                id_item_definition int(11) unsigned NOT NULL,
                lang varchar(8) NOT NULL DEFAULT '',
                title_definition varchar(50) DEFAULT NULL,
                title_item varchar(50) DEFAULT NULL,
                PRIMARY KEY (id_item_definition,lang)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>
        
        <query>
            CREATE TABLE IF NOT EXISTS item_lang (
                id_item int(11) unsigned NOT NULL,
                lang varchar(8) NOT NULL DEFAULT '',
                title int(11) DEFAULT NULL,
                PRIMARY KEY (id_item,lang)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

        <query>
            CREATE TABLE IF NOT EXISTS items (
                id_item int(11) unsigned NOT NULL,
                parent varchar(50) NOT NULL DEFAULT '',
                id_parent int(11) unsigned NOT NULL DEFAULT '0',
                ordering int(11) unsigned NOT NULL DEFAULT '1',
                PRIMARY KEY (id_item,parent,id_parent)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

		<query>
			CREATE TABLE IF NOT EXISTS lang (
			  lang varchar(8) NOT NULL DEFAULT '',
			  name varchar(40) DEFAULT NULL,
			  online char(1) DEFAULT '0',
			  def char(1) DEFAULT '0',
			  ordering int(11),
              direction smallint(1) NOT NULL DEFAULT 1,
			  PRIMARY KEY  (lang)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS login_tracker (
			  ip_address varchar(32) NOT NULL,
			  first_time int(11) UNSIGNED NOT NULL,
			  failures tinyint(2) UNSIGNED DEFAULT NULL,
			  PRIMARY KEY  (ip_address)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS media (
				id_media int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				type varchar(10) NOT NULL DEFAULT '',
				file_name varchar(255) NOT NULL DEFAULT ''		COMMENT 'file_name',
				path varchar(500) NOT NULL						COMMENT 'Complete path to the medium, including media file name, excluding host name',
				base_path varchar(500) NOT NULL					COMMENT 'medium folder base path, excluding host name',
				copyright varchar(128) DEFAULT NULL,
				provider varchar(255) DEFAULT NULL,
				date datetime NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Medium date',
				link varchar(255) DEFAULT NULL					COMMENT 'Link to a resource, attached to this medium',
				square_crop enum('tl','m','br') NOT NULL DEFAULT 'm',
				PRIMARY KEY  (id_media)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS media_lang (
			  lang varchar(8) NOT NULL DEFAULT '',
			  id_media int(11) UNSIGNED NOT NULL DEFAULT 0,
			  title varchar(255) DEFAULT NULL,
			  alt varchar(500) DEFAULT NULL,
			  description longtext,
			  PRIMARY KEY  (id_media, lang)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS menu (
			  id_menu int(11) NOT NULL AUTO_INCREMENT,
			  name varchar(50) NOT NULL,
			  title varchar(50) NOT NULL,
			  ordering int(11),
			  PRIMARY KEY  (id_menu),
			  UNIQUE KEY name (name)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS module (
				id_module int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				name varchar(100) NOT NULL DEFAULT '',
				with_admin tinyint UNSIGNED  NOT NULL DEFAULT 0,
				version varchar(10) NOT NULL DEFAULT '',
				status tinyint UNSIGNED NOT NULL DEFAULT 0,
				ordering tinyint UNSIGNED NOT NULL DEFAULT 0,
				info text NOT NULL,
				description text NOT NULL,
				PRIMARY KEY  (id_module),
				KEY i_module_name (name)
			)  ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS module_setting (
			  id_module_setting int(11) NOT NULL AUTO_INCREMENT,
			  id_module int(11) NOT NULL,
			  name varchar(50) NOT NULL					COMMENT 'Setting name',
			  content varchar(255) NOT NULL				COMMENT 'Setting content',	
			  lang varchar(8) DEFAULT NULL,
			  PRIMARY KEY  (id_module_setting) 
			)   ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS note (
			  id_note INT( 11 ) NOT NULL AUTO_INCREMENT,
			  id_user INT( 11 ) NOT NULL ,
			  date DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00',
			  type VARCHAR( 10 ) NOT NULL,
			  content TEXT NOT NULL ,
			  PRIMARY KEY  (id_note)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

        <query>
            drop table if exists notification;
        </query>
        <query>
            CREATE TABLE IF NOT EXISTS notification (
              id_notification int(11) unsigned NOT NULL AUTO_INCREMENT,
              date_creation date DEFAULT NULL,
              code varchar(50) NULL,
              category varchar(25) DEFAULT NULL,
              title varchar(50) DEFAULT NULL,
              content text,
              `read` smallint(1) DEFAULT '0',
              PRIMARY KEY (id_notification)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
        </query>

        <query>
			CREATE TABLE IF NOT EXISTS page (
			  id_page int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  id_parent int(11) UNSIGNED NOT NULL DEFAULT 0,
			  id_menu int(11) UNSIGNED NOT NULL DEFAULT 0,
			  id_content_type int(11) UNSIGNED DEFAULT NULL,
              id_subnav int(11) UNSIGNED NOT NULL DEFAULT 0,
			  name varchar(255) DEFAULT NULL,
			  ordering int(11) UNSIGNED DEFAULT 0,
			  level int(11) UNSIGNED NOT NULL DEFAULT 0,
			  online tinyint(1) UNSIGNED NOT NULL DEFAULT 0,
			  home tinyint( 1 ) NOT NULL DEFAULT '0',
			  author varchar(55) DEFAULT NULL,
			  updater varchar(55) DEFAULT NULL,
			  created datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  publish_on datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  publish_off datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  updated datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  logical_date datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  appears tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  has_url tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  view varchar(50) NULL DEFAULT NULL COMMENT 'Page view',
			  view_single varchar(50) NULL DEFAULT NULL COMMENT 'Single Article Page view',
			  article_list_view varchar(50) NULL DEFAULT NULL COMMENT 'Article list view for each article linked to this page',
			  article_view varchar(50) NULL DEFAULT NULL COMMENT 'Article detail view for each article linked to this page',
			  article_order VARCHAR(50) NOT NULL DEFAULT 'ordering'				COMMENT 'Article order in this page. Can be "ordering", "date"',
			  article_order_direction VARCHAR(50) NOT NULL DEFAULT 'ASC',	
			  link varchar(255) DEFAULT ''										COMMENT 'Link to internal / external resource',
			  link_type varchar(25) DEFAULT NULL COMMENT '''page'', ''article'' or NULL',
			  link_id varchar(20) NOT NULL DEFAULT '',
			  pagination tinyint(1) UNSIGNED NOT NULL DEFAULT 0						COMMENT 'Pagination use ?',
  			  priority int(1) UNSIGNED NOT NULL DEFAULT '5' COMMENT 'Page priority',
              used_by_module tinyint(1) UNSIGNED NULL,
              deny_code varchar(3) NULL,
              PRIMARY KEY  (id_page),
			  KEY idx_page_id_parent (id_parent),
			  KEY idx_page_level (level),
			  KEY idx_page_menu (id_menu) 
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS page_article (
				id_page INT(11) UNSIGNED NOT NULL,
				id_article INT(11) UNSIGNED NOT NULL,
				online tinyint(1) UNSIGNED NOT NULL DEFAULT 0,
				view varchar(50) DEFAULT NULL,
			  	ordering int(11) DEFAULT 0,
				id_type int(11) UNSIGNED NULL,
				link_type VARCHAR( 25 ) NOT NULL DEFAULT '',
				link_id varchar(20) NOT NULL DEFAULT '',
				link VARCHAR( 255 ) NOT NULL DEFAULT '',
				main_parent TINYINT(1) NOT NULL DEFAULT 0,
				PRIMARY KEY  (id_page, id_article),
			    KEY idx_page_article_id_type (id_type) 
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS page_category (
			id_page INT(11) UNSIGNED NOT NULL ,
			id_category INT(11) UNSIGNED NOT NULL
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS page_lang (
			  lang varchar(8) NOT NULL DEFAULT '',
			  id_page int(11) UNSIGNED NOT NULL DEFAULT 0,
			  url VARCHAR( 100 ) NOT NULL DEFAULT '',
			  link VARCHAR( 255 ) NOT NULL DEFAULT '',
			  title varchar(255) DEFAULT NULL,
			  subtitle text DEFAULT NULL,
			  nav_title VARCHAR( 255 ) NOT NULL DEFAULT  '',
			  subnav_title VARCHAR( 255 ) NOT NULL DEFAULT '',
			  meta_title varchar(255) DEFAULT NULL,
			  meta_description varchar(255) DEFAULT NULL,
			  meta_keywords varchar(255) DEFAULT NULL,
			  online tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
			  PRIMARY KEY  (id_page,lang)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS page_media (
			  id_page int(11) UNSIGNED NOT NULL DEFAULT 0,
			  id_media int(11) UNSIGNED NOT NULL DEFAULT 0,
              online tinyint(1) UNSIGNED NOT NULL DEFAULT 1,
              ordering int(11) UNSIGNED DEFAULT 9999,
  			  lang_display varchar(8) DEFAULT NULL,
			  PRIMARY KEY  (id_page,id_media)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS page_tag (
			id_page int(11) UNSIGNED NOT NULL,
			id_tag int(11) UNSIGNED NOT NULL,
			PRIMARY KEY  (id_page, id_tag)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;
		</query>

		<query>
            CREATE TABLE if NOT exists resource (
            id_resource int(11) NOT NULL AUTO_INCREMENT,
            id_parent int(11) UNSIGNED DEFAULT NULL,
            resource varchar(255) NOT NULL DEFAULT '',
            actions varchar(500) DEFAULT '',
            title varchar(255) DEFAULT '',
            description varchar(1000) DEFAULT '',
            PRIMARY KEY (id_resource),
            UNIQUE KEY resource_key (resource)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

        <query>
            CREATE TABLE IF NOT EXISTS role (
            id_role smallint(4) UNSIGNED NOT NULL AUTO_INCREMENT,
            role_level int(11) DEFAULT NULL,
            role_code varchar(25) NOT NULL,
            role_name varchar(100) NOT NULL,
            role_description tinytext,
            PRIMARY KEY (id_role),
            UNIQUE KEY role_code (role_code)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
        </query>

		<query>
            CREATE TABLE if NOT exists rule (
                id_role int(11) NOT NULL,
                resource varchar(100) NOT NULL DEFAULT '',
                actions varchar(100) NOT NULL DEFAULT '',
                permission smallint(1) DEFAULT NULL,
                id_element int(11) UNSIGNED,
                id_user int(1) unsigned NOT NULL DEFAULT 0,
                PRIMARY KEY (id_role,resource,actions)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

		<query>
			CREATE TABLE IF NOT EXISTS setting (
			  id_setting int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  name varchar(255) NOT NULL,
			  content text NOT NULL,
			  lang varchar(8) NOT NULL DEFAULT '',
			  PRIMARY KEY (id_setting)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

        <query>
			CREATE TABLE IF NOT EXISTS tag (
				id_tag int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
				tag_name varchar(50) DEFAULT NULL,
				PRIMARY KEY  (id_tag)
			) ENGINE=InnoDB  DEFAULT CHARSET=utf8  AUTO_INCREMENT=1;
		</query>

        <query>
            CREATE TABLE IF NOT EXISTS tracker (
                id_user int(11) UNSIGNED NOT NULL,
                ip_address varchar(32) DEFAULT NULL,
                element varchar(50) DEFAULT NULL,
                id_element int(11) DEFAULT NULL,
                last_time datetime DEFAULT NULL,
                elements varchar(3000) DEFAULT NULL
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

		<query>
			CREATE TABLE IF NOT EXISTS `type` (
			  `id_type` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  `code` varchar(50) NOT NULL,
			  `parent` char(20) NOT NULL,
			  `title` varchar(255) NOT NULL,
			  `description` varchar(3000) DEFAULT NULL,
			  `ordering` smallint(6) NOT NULL,
			  `view` varchar(50) DEFAULT NULL COMMENT 'view',
			  `flag` tinyint(1) NOT NULL,
			  PRIMARY KEY (`id_type`)
			) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</query>

        <query>
            CREATE TABLE IF NOT EXISTS ui_element (
                id_ui_element int(11) unsigned NOT NULL AUTO_INCREMENT,
                id_company int(11) unsigned DEFAULT NULL,
                type enum('tab','table','list') DEFAULT NULL,
                panel varchar(25) DEFAULT NULL COMMENT 'UI context',
                title varchar(50) DEFAULT NULL,
                ordering int(10) unsigned NOT NULL DEFAULT '0',
                PRIMARY KEY (id_ui_element)
            ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
        </query>

        <query>
            CREATE TABLE IF NOT EXISTS ui_element_lk_extend (
                id_ui_element int(11) unsigned NOT NULL,
                id_extend int(11) NOT NULL DEFAULT '0',
                ordering int(10) unsigned NOT NULL DEFAULT '0',
                PRIMARY KEY (id_ui_element,id_extend)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </query>

        <query>
			CREATE TABLE IF NOT EXISTS url (
			  id_url int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  id_entity int(11) UNSIGNED NOT NULL,
			  type varchar(10) NOT NULL,
			  canonical smallint(1) NOT NULL DEFAULT '0',
			  active smallint(1) NOT NULL DEFAULT '0',
			  lang varchar(8) NOT NULL,
			  path varchar(255) NOT NULL DEFAULT '',
			  path_ids varchar(50),
			  full_path_ids varchar(50),
			  creation_date datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
			  PRIMARY KEY (id_url),
			  KEY idx_url_type (type),
			  KEY idx_url_active (active),
			  KEY idx_url_lang (lang)
			) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</query>

		<query>
			CREATE TABLE IF NOT EXISTS user (
			  id_user int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
			  id_role smallint(4) UNSIGNED NOT NULL,
			  join_date timestamp NULL DEFAULT NULL,
			  last_visit timestamp NULL DEFAULT NULL,
			  username varchar(50) NOT NULL,
			  screen_name varchar(50) DEFAULT NULL,
              firstname varchar(100) DEFAULT NULL,
              lastname varchar(100) DEFAULT NULL,
              birthdate datetime DEFAULT NULL,
              gender smallint(1) DEFAULT NULL COMMENT '1: Male, 2 : Female',
              password varchar(255) NOT NULL,
			  email varchar(120) NOT NULL,
			  salt varchar(50) NULL,
			  PRIMARY KEY  (id_user),
			  UNIQUE KEY username (username),
			  KEY id_role (id_role)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8  AUTO_INCREMENT=1; 
		</query>

	</tables>


	<content>
	
		<query>update setting set lang='' where lang is null;</query>
		<query>CREATE UNIQUE INDEX idx_unq_setting ON setting (name, lang);</query>

		<query>TRUNCATE TABLE login_tracker;</query>
		
        <query>
			<![CDATA[
            INSERT INTO extend_field_type (id_extend_field_type, type_name, default_values, `values`, translated, active, validate, html_element, html_element_type, html_element_class, html_element_pattern)
            VALUES
            (1,'Input',1,0,1,1,NULL,'input','text','w95p inputtext',NULL),
            (2,'Textarea',1,0,1,1,NULL,'textarea','textarea','w95p autogrow inputtext',NULL),
            (3,'Textarea + Editor',1,0,1,1,NULL,'textarea','editor','w95p smallTinyTextarea inputtext',NULL),
            (4,'Checkbox',1,1,0,1,NULL,'input','checkbox','checkbox',NULL),
            (5,'Radio',1,1,0,1,NULL,'input','radio','radio',NULL),
            (6,'Select',1,1,0,1,NULL,'input','select','select inputtext',NULL),
            (7,'Date',0,0,0,1,NULL,'input','date','w130 inputtext',NULL),
            (8,'Medias',0,0,1,1,NULL,'div','media',NULL,NULL),
            (9,'Color',0,0,0,1,NULL,'input','color','color w120 inputtext',NULL),
			(10,'Date & Time',0,0,0,1,NULL,'input','datetime','w130 inputtext',NULL),
            (100,'Number',1,0,0,1,'numeric','input','number','w120 inputtext',NULL),
            (110,'Email',0,0,0,1,'email','input','email','w95p inputtext',NULL),
            (120,'Phone',0,0,0,1,'digits','input','tel','w140 inputtext','^((\\+\\d{1,3}(-| )?\\(?\\d\\)?(-| )?\\d{1,5})|(\\(?\\d{2,6}\\)?))(-| )?(\\d{3,4})(-| )?(\\d{4})(( x| ext)\\d{1,5}){0,1}$'),
            (130,'Internal Link',0,0,1,1,NULL,'div','link','droppable',NULL);
            ]]>
        </query>
        
		<query>INSERT IGNORE INTO role VALUES (1, 10000, 'super-admin', 'Super Admin', '');</query>
		<query>INSERT IGNORE INTO role VALUES (2, 5000, 'admin', 'Admin', '');</query>
		<query>INSERT IGNORE INTO role VALUES (3, 1000, 'editor', 'Editor', '');</query>
		<query>INSERT IGNORE INTO role VALUES (4, 100, 'user', 'User', '');</query>
		<query>INSERT IGNORE INTO role VALUES (5, 50, 'pending', 'Pending', '');</query>
		<query>INSERT IGNORE INTO role VALUES (6, 10, 'guest', 'Guest', '');</query>
		<query>INSERT IGNORE INTO role VALUES (7, -10, 'banned', 'Banned', '');</query>
		<query>INSERT IGNORE INTO role VALUES (8, -100, 'deactivated', 'Deactivated', '');</query>

        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (1,NULL,'admin','','Backend login','Connect to ionize backend');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (10,NULL,'admin/menu','create,edit,delete','Menu','Menus');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (11,10,'admin/menu/permissions/backend','','Permissions','Menu > Backend Permissions');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (20,NULL,'admin/translations','','Translations','Translations');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (30,NULL,'admin/filemanager','upload,rename,delete,move','Filemanager','FileManager');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (35,NULL,'admin/medialist','','MediaList','MediaList');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (40,NULL,'admin/page','create,edit,delete','Page','Page');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (41,40,'admin/page/article','add','Article','Page > Article');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (42,40,'admin/page/element','add','Content Element','Page > Content Element');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (50,40,'admin/page/media','link,unlink,edit','Media','Page > Media');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (60,40,'admin/page/permissions','','Permission','Page > Permission');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (61,60,'admin/page/permissions/backend','','Backend','Page > Permission > Backend');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (62,60,'admin/page/permissions/frontend','','Frontend','Page > Permission > Frontend');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (70,NULL,'admin/article','create,edit,delete,move,copy,duplicate','Article','Article');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (80,70,'admin/article/media','link,unlink,edit','Media','Article > Media');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (85,70,'admin/article/element','add','Content Element','Article > Content Element');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (86,70,'admin/article/category','','Manage categories','Article > Categories');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (93,70,'admin/article/tag','','Manage tags','Article > Tags');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (90,70,'admin/article/permissions','','Permission','Article > Permission');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (91,90,'admin/article/permissions/backend','','Backend','Article > Permission > Backend');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (92,90,'admin/article/permissions/frontend','','Frontend','Article > Permission > Frontend');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (100,NULL,'admin/tree','','Tree','');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (101,100,'admin/tree/menu','add_page,edit','Menus','');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (102,100,'admin/tree/page','status,add_page,add_article,order','Pages','');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (103,100,'admin/tree/article','unlink,status,move,copy,order','Articles','');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (120,NULL,'admin/article/type','create,edit,delete','Article Type','Article types');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (150,NULL,'admin/modules','install','Modules','Modules');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (151,150,'admin/modules/permissions','','Set Permissions','Modules > Permissions');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (180,NULL,'admin/element','create,edit,delete','Content Element','Content Elements');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (181,180,'admin/element/media','link,unlink,edit','Media','Content Elements > Media');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (210,NULL,'admin/extend','create,edit,delete','Extend Fields','Extend Fields');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (220,NULL,'admin/item','create,edit,delete,add','Static Items','Static Items');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (221,220,'admin/item/definition','edit','Definition','Static Items > Definition');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (222,220,'admin/item/media','link,unlink,edit','Media','Static Items > Media');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (240,NULL,'admin/tools','','Tools','Tools');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (241,240,'admin/tools/google_analytics','','Google Analytics','Tools > Google Analytics');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (250,240,'admin/tools/system','','System Diagnosis','Tools > System');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (251,250,'admin/tools/system/information','','Information','Tools > System > Information');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (252,250,'admin/tools/system/repair','','Repair tools','Tools > System > Repair');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (253,250,'admin/tools/system/report','','Reports','Tools > System > Reports');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (270,NULL,'admin/settings','','Settings','Settings');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (271,270,'admin/settings/ionize','','Ionize UI','Settings > UI Settings');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (272,270,'admin/settings/languages','','Languages Management','Settings > Languages');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (273,270,'admin/settings/themes','edit','Themes','Settings > Themes');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (274,270,'admin/settings/website','','Website settings','Settings > Website');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (275,270,'admin/settings/technical','','Technical settings','Settings > Technical');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (300,NULL,'admin/users_roles','','Users / Roles','Users / Roles');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (301,300,'admin/user','create,edit,delete','Users','Users');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (302,300,'admin/role','create,edit,delete','Roles','Roles');</query>
        <query>INSERT IGNORE INTO resource (id_resource, id_parent, resource, actions, title, description) VALUES (303,302,'admin/role/permissions','','Set Permissions','See Role\'s permissions');</query>

        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (1,'all','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article','create,edit,delete,move,copy,duplicate',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/category','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/element','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/media','link,unlink,edit',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/permissions/backend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/permissions/frontend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/type','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/article/tag','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/element','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/extend','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/filemanager','upload,rename,delete,move',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/medialist','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/menu','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/modules','install',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/modules/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/article','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/element','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/media','link,unlink,edit',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/permissions/backend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/page/permissions/frontend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/role','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/role/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/settings','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/settings/ionize','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/settings/languages','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/settings/website','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools/google_analytics','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools/system','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools/system/information','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools/system/repair','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tools/system/report','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/translations','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tree','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tree/article','unlink,status,move,copy,order',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tree/menu','add_page,edit',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/tree/page','status,add_page,add_article,order',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/user','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/users_roles','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article','create,edit,delete,move,copy,duplicate',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/category','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/element','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/media','link,unlink,edit',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/permissions/backend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/permissions/frontend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/article/tag','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/filemanager','upload,rename,delete,move',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/medialist','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/menu','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/modules','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/article','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/element','add',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/media','link,unlink,edit',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/permissions','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/permissions/backend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/page/permissions/frontend','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/settings','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/settings/ionize','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/settings/languages','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/settings/website','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tools','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tools/google_analytics','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tools/system','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tools/system/information','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tools/system/report','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/translations','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tree','',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tree/article','unlink,status,move,copy,order',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tree/menu','add_page,edit',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/tree/page','status,add_page,add_article,order',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/user','create,edit,delete',1)</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/users_roles','',1)</query>

        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/item','create,edit,delete,add',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/item','create,edit,delete,add',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/item/media','link,unlink,edit',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/item/media','link,unlink,edit',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (2,'admin/element/media','link,unlink,edit',1);</query>
        <query>INSERT IGNORE INTO rule (id_role, resource, actions, permission) VALUES (3,'admin/element/media','link,unlink,edit',1);</query>

        <query>DELETE FROM setting WHERE name='cache';</query>
		<query>DELETE FROM setting WHERE name='cache_time';</query>
		<query>DELETE FROM setting WHERE name='create_dir_use_ftp';</query>
		<query>DELETE FROM setting WHERE name='ftp_host';</query>
		<query>DELETE FROM setting WHERE name='ftp_user';</query>
		<query>DELETE FROM setting WHERE name='ftp_password';</query>
        <query>DELETE FROM setting WHERE name='picture_copyright';</query>
        <query>DELETE FROM setting WHERE name='filemanager';</query>


        <query>INSERT IGNORE INTO setting VALUES ('', 'ionize_version', '1.1.0', '');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'site_email', '', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'files_path', 'files', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'theme', 'DEFAULT', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'theme_admin', 'admin', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'google_analytics', '', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'filemanager', 'mootools-filemanager', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'show_help_tips', '1', '');</query>

		<query>INSERT IGNORE INTO setting VALUES ('', 'display_connected_label', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_dashboard_shortcuts', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_dashboard_modules', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_dashboard_users', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_dashboard_content', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_front_offline_content', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'display_dashboard_quick_settings', '1', '');</query>

        <query>INSERT IGNORE INTO setting VALUES ('', 'texteditor', 'tinymce', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'media_thumb_size', '120', '');</query>

		<query>INSERT IGNORE INTO setting VALUES ('', 'tinybuttons1', 'pdw_toggle,|,bold,italic,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,formatselect,|,bullist,numlist,|,link,unlink,image,|,spellchecker', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'tinybuttons2', 'fullscreen, undo,redo,|,pastetext,selectall,removeformat,|,media,charmap,hr,blockquote,|,template,|,codemirror', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'tinybuttons3', 'tablecontrols', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'smalltinybuttons1', 'bold,italic,|,bullist,numlist,|,link,unlink,image,|,nonbreaking', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'smalltinybuttons2', '', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'smalltinybuttons3', '', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'displayed_admin_languages', 'en', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'date_format', '%Y.%m.%d', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'force_lang_urls', '0', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'tinyblockformats', 'p,h2,h3,h4,h5,pre,div', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'article_allowed_tags', 'h2,h3,h4,h5,h6,em,img,iframe,table,object,thead,tbody,tfoot,tr,th,td,param,embed,map,p,a,ul,ol,li,br,b,strong', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'filemanager_file_types', 'gif,jpe,jpeg,jpg,png,flv,mpeg,mpg,mp3,pdf', '');</query>

		<query>INSERT IGNORE INTO setting VALUES ('', 'default_admin_lang', 'en', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'upload_autostart', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'resize_on_upload', '1', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'picture_max_width', '1200', '');</query>
		<query>INSERT IGNORE INTO setting VALUES ('', 'picture_max_height', '1200', '');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'upload_mode', '', '');</query>

        <query>INSERT IGNORE INTO setting VALUES ('', 'no_source_picture','default.png','');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'enable_backend_tracker','0', '');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'backend_ui_style','original', '');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'notification','1', '');</query>
        <query>INSERT IGNORE INTO setting VALUES ('', 'notification_date','', '');</query>

        <query>
			INSERT IGNORE INTO menu (id_menu, name, title) VALUES
				(1 , 'main', 'Main menu'),
				(2 , 'system', 'System menu');
		</query>

	</content>

</sql>
